{% load static %}
<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block page_title %}Foodie{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'usersideapp/css/User_homepage.css' %}">
    {% block extra_css %}{% endblock %}
</head>

<body>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <button class="toggle-btn" id="toggleBtn">â˜°</button>
            <h2 class="logo">
                <span class="logo-text">Foodie</span>
            </h2>
        </div>

        <ul>
            <li class="{% if active_nav == 'home' %}active{% endif %}" id="menu-home" data-label="é¦–é " title="é¦–é ">
                <span class="icon">ğŸ </span>
                <span class="item-text">é¦–é </span>
            </li>

            <li class="{% if active_nav == 'search' %}active{% endif %}" id="menu-search" data-label="æœå°‹é¤å»³"
                title="æœå°‹é¤å»³">
                <span class="icon">ğŸœ</span>
                <span class="item-text">æœå°‹é¤å»³</span>
            </li>

            <li class="{% if active_nav == 'random' %}active{% endif %}" id="menu-random" data-label="éš¨æ©Ÿæ¨è–¦"
                title="éš¨æ©Ÿæ¨è–¦">
                <span class="icon">ğŸ²</span>
                <span class="item-text">éš¨æ©Ÿæ¨è–¦</span>
            </li>

            <li class="{% if active_nav == 'today' %}active{% endif %}" id="menu-today" data-label="ä»Šæ—¥é£²é£Ÿ" title="ä»Šæ—¥é£²é£Ÿ">
                <span class="icon">ğŸ“</span>
                <span class="item-text">ä»Šæ—¥é£²é£Ÿ</span>
            </li>

            <li class="{% if active_nav == 'record' %}active{% endif %}" id="menu-record" data-label="é£²é£Ÿç´€éŒ„"
                title="é£²é£Ÿç´€éŒ„">
                <span class="icon">ğŸ“…</span>
                <span class="item-text">é£²é£Ÿç´€éŒ„</span>
            </li>

            <li class="{% if active_nav == 'notify' %}active{% endif %}" id="menu-notify" data-label="æ¨æ’­é€šçŸ¥"
                title="æ¨æ’­é€šçŸ¥">
                <span class="icon">ğŸ””</span>
                <span class="item-text">æ¨æ’­é€šçŸ¥</span>
            </li>

            <li class="{% if active_nav == 'health' %}active{% endif %}" id="menu-health" data-label="å¥åº·å»ºè­°"
                title="å¥åº·å»ºè­°">
                <span class="icon">ğŸ¥—</span>
                <span class="item-text">å¥åº·å»ºè­°</span>
            </li>

            <li class="{% if active_nav == 'interactions' %}active{% endif %}" id="menu-interactions"
                data-label="æˆ‘çš„äº’å‹•" title="æˆ‘çš„äº’å‹•">
                <span class="icon">ğŸ’¬</span>
                <span class="item-text">æˆ‘çš„äº’å‹•</span>
            </li>

            <li class="{% if active_nav == 'settings' %}active{% endif %}" id="menu-setting" data-label="è¨­å®š" title="è¨­å®š">
                <span class="icon">âš™ï¸</span>
                <span class="item-text">è¨­å®š</span>
            </li>

            <li class="logout" id="menu-logout" data-label="ç™»å‡º" title="ç™»å‡º">
                <span class="icon">ğŸšª</span>
                <span class="item-text">ç™»å‡º</span>
            </li>
        </ul>

        {% if current_user %}
        <div class="sidebar-user">
            <div class="user-avatar">{{ current_user.username|first|upper }}</div>
            <div class="user-info">
                <p class="user-name">{{ current_user.full_name|default:current_user.username }}</p>
                <p class="user-email">{{ current_user.email }}</p>
            </div>
        </div>
        {% endif %}
    </div>

    <div class="main">
        {% if messages %}
        <div class="flash-messages">
            {% for message in messages %}
            <div class="flash-message {{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
        {% endif %}
        <div class="main-inner">
            {% block content %}{% endblock %}
        </div>
    </div>

    <form id="logout-form" method="post" action="{% url 'usersideapp:logout' %}" style="display:none;">
        {% csrf_token %}
    </form>

    <script>
        window.appRoutes = {
            home: "{% url 'usersideapp:home' %}",
            search: "{% url 'usersideapp:search' %}",
            random: "{% url 'usersideapp:random' %}",
            today: "{% url 'usersideapp:today' %}",
            record: "{% url 'usersideapp:record' %}",
            notify: "{% url 'usersideapp:notify' %}",
            health: "{% url 'usersideapp:health' %}",
            interactions: "{% url 'usersideapp:interactions' %}",
            settings: "{% url 'usersideapp:settings' %}",
            login: "{% url 'usersideapp:login' %}"
        };
    </script>
    <script src="{% static 'usersideapp/js/User_homepage.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>

</html>